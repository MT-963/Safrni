# ุฏููู ููุญุฉ ุงูุฃุฏูู - ูุธุงู ุณูุฑูู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ููุญุฉ ุฃุฏูู ูุงููุฉ ูุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู (Sellers) ูุงููุณุทุงุก (Brokers) ูู ูุธุงู ุณูุฑูู.

### โ ูุนูููุงุช ูุงูุฉ:
- **Sellers = ุงููุณุชุฎุฏููู (Users)**: ูู ุงูููุธููู ูุงูุฃุฏูู ุงูุฐูู ูุณุชุฎุฏููู ุงููุธุงู
- ูุชู ุญูุธ ูุนูููุงุช ุงููุณุชุฎุฏููู ูู ุฌุฏูู `sellers` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช MySQL
- ูู Seller ูุฏูู:
  - ุงุณู ูุณุชุฎุฏู (Name)
  - ุจุฑูุฏ ุฅููุชุฑููู (Email)
  - ูููุฉ ุณุฑ ูุดูุฑุฉ (PasswordHash)
  - ุฏูุฑ (Role): Admin ุฃู Employee
  - ุญุงูุฉ (IsActive): ูุดุท ุฃู ุบูุฑ ูุดุท

---

## ๐ฏ ุงูููุฒุงุช ุงููุถุงูุฉ

### 1. ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู (Sellers)
๐ **ุงููุณุงุฑ**: `/dashboard/admin/sellers`

#### ุงูุตูุงุญูุงุช ุงููุชุงุญุฉ ููุฃุฏูู:
- โ ุนุฑุถ ุฌููุน ุงููุณุชุฎุฏููู
- โ ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ (ููุธู ุฃู ุฃุฏูู)
- โ ุชุนุฏูู ูุนูููุงุช ุงููุณุชุฎุฏู
- โ ุชูุนูู/ุชุนุทูู ุงููุณุชุฎุฏู
- โ **ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงูุณุฑ** ูุฃู ูุณุชุฎุฏู
- โ ุงูุจุญุซ ุนู ุงููุณุชุฎุฏููู

#### ูุนูููุงุช ุงููุณุชุฎุฏู ุงููุนุฑูุถุฉ:
- ุงูุงุณู
- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุงูุฏูุฑ (ุฃุฏูู / ููุธู)
- ุงูุญุงูุฉ (ูุดุท / ุบูุฑ ูุดุท)
- ุชุงุฑูุฎ ุงูุฅูุดุงุก

---

### 2. ุฅุฏุงุฑุฉ ุงููุณุทุงุก (Brokers)
๐ **ุงููุณุงุฑ**: `/dashboard/admin/brokers`

#### ุงูุตูุงุญูุงุช ุงููุชุงุญุฉ ููุฃุฏูู:
- โ ุนุฑุถ ุฌููุน ุงููุณุทุงุก
- โ ุฅุถุงูุฉ ูุณูุท ุฌุฏูุฏ
- โ ุชุนุฏูู ูุนูููุงุช ุงููุณูุท
- โ ุญุฐู ูุณูุท
- โ ุงูุจุญุซ ุนู ุงููุณุทุงุก

#### ูุนูููุงุช ุงููุณูุท ุงููุนุฑูุถุฉ:
- ุงุณู ุงููุณูุท
- ูุนูููุงุช ุงูุงุชุตุงู
- ุชุงุฑูุฎ ุงูุฅุถุงูุฉ

---

### 3. API Endpoints ุงูุฌุฏูุฏุฉ

#### ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงูุณุฑ (Admin Only)
```http
POST /api/auth/reset-password/{sellerId}
Authorization: Bearer {admin_token}
Content-Type: application/json

{
  "newPassword": "NewPassword@123"
}
```

**ุงูุงุณุชุฌุงุจุฉ ุงููุงุฌุญุฉ**:
```json
{
  "message": "Password reset successfully"
}
```

---

## ๐ ุตูุงุญูุงุช ุงููุตูู

### ุงูุฃุฏูู (Admin)
- **ุงููุตูู ุงููุงูู** ูุฌููุน ุงูุตูุญุงุช
- ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู (Sellers)
- ุฅุฏุงุฑุฉ ุงููุณุทุงุก (Brokers)
- ุฅุนุงุฏุฉ ุชุนููู ูููุงุช ุงูุณุฑ
- ุฅูุดุงุก ุฃุฏูู ููุณุชุฎุฏููู ุฌุฏุฏ

### ุงูููุธู (Employee)
- ุงููุตูู ููุตูุญุงุช ุงูุฃุณุงุณูุฉ ููุท:
  - ุงูุนููุงุก
  - ุงูููุงุฏู
  - ุงูุญุฌูุฒุงุช
  - ุงููุฏููุนุงุช
- **ูุง ูููููู** ุงููุตูู ูุตูุญุงุช ุงูุฃุฏูู

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุชุณุฌูู ุงูุฏุฎูู ูุฃุฏูู
```
ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: admin@safrni.com
ูููุฉ ุงูุณุฑ: Admin@123
```

### 2. ุงููุตูู ูููุญุฉ ุงูุฃุฏูู
ุจุนุฏ ุชุณุฌูู ุงูุฏุฎููุ ุณุชุธูุฑ ูู ุงูู Sidebar ูุณู **"ููุญุฉ ุงูุฃุฏูู"** ูุญุชูู ุนูู:
- ๐ฅ **ุงููุณุชุฎุฏููู** - ุฅุฏุงุฑุฉ Sellers
- ๐ข **ุงููุณุทุงุก** - ุฅุฏุงุฑุฉ Brokers

---

## ๐ ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ

### ูู ุงููุงุฌูุฉ:
1. ุงุฐูุจ ุฅูู `/dashboard/admin/sellers`
2. ุงุถุบุท ุนูู "ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ"
3. ุฃุฏุฎู ุงููุนูููุงุช:
   - ุงูุงุณู
   - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
   - ูููุฉ ุงูุณุฑ
   - ุงูุฏูุฑ (ููุธู ุฃู ุฃุฏูู)
4. ุงุถุบุท "ุฅุถุงูุฉ"

### ุนุจุฑ API:
```powershell
$token = "YOUR_ADMIN_TOKEN"
$headers = @{ Authorization = "Bearer $token" }
$body = @{
    name = "ููุธู ุฌุฏูุฏ"
    email = "employee@safrni.com"
    password = "Employee@123"
    role = "Employee"
} | ConvertTo-Json

Invoke-RestMethod -Uri "http://localhost:5185/api/auth/register" `
    -Method Post -Body $body -Headers $headers -ContentType "application/json"
```

---

## ๐ ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงูุณุฑ

### ูู ุงููุงุฌูุฉ:
1. ุงุฐูุจ ุฅูู `/dashboard/admin/sellers`
2. ุงุถุบุท ุนูู ุฃููููุฉ ุงูููุชุงุญ ๐ ุจุฌุงูุจ ุงููุณุชุฎุฏู
3. ุฃุฏุฎู ูููุฉ ุงูุณุฑ ุงูุฌุฏูุฏุฉ
4. ุงุถุบุท "ุฅุนุงุฏุฉ ุชุนููู"

### ุนุจุฑ API:
```powershell
$token = "YOUR_ADMIN_TOKEN"
$headers = @{ Authorization = "Bearer $token" }
$body = @{
    newPassword = "NewPassword@123"
} | ConvertTo-Json

Invoke-RestMethod -Uri "http://localhost:5185/api/auth/reset-password/5" `
    -Method Post -Body $body -Headers $headers -ContentType "application/json"
```

---

## ๐ฅ ุฅุฏุงุฑุฉ ุงููุณุทุงุก

### ุฅุถุงูุฉ ูุณูุท ุฌุฏูุฏ:
1. ุงุฐูุจ ุฅูู `/dashboard/admin/brokers`
2. ุงุถุบุท ุนูู "ุฅุถุงูุฉ ูุณูุท ุฌุฏูุฏ"
3. ุฃุฏุฎู:
   - ุงุณู ุงููุณูุท
   - ูุนูููุงุช ุงูุงุชุตุงู (ุงุฎุชูุงุฑู)
4. ุงุถุบุท "ุฅุถุงูุฉ"

### ุชุนุฏูู ุฃู ุญุฐู ูุณูุท:
- ุงุณุชุฎุฏู ุฃููููุฉ โ๏ธ ููุชุนุฏูู
- ุงุณุชุฎุฏู ุฃููููุฉ ๐๏ธ ููุญุฐู

---

## ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ููุฒุงุช ุงูุชุตููู:
- ๐จ ุชุตููู ุนุตุฑู ูุฌููู
- ๐ฑ ูุชุฌุงูุจ ูุน ุฌููุน ุงูุดุงุดุงุช
- ๐ ุจุญุซ ุณุฑูุน
- ๐ท๏ธ Badges ููุฃุฏูุงุฑ ูุงูุญุงูุงุช
- โก Modals ููุฅุถุงูุฉ ูุงูุชุนุฏูู
- โ ุฑุณุงุฆู ุชุฃููุฏ ููุนูููุงุช ุงูุญุณุงุณุฉ

### ุงูุฃููุงู:
- **ุฃุตูุฑ**: ููุฃุฏูู ูุตูุญุงุช ููุญุฉ ุงูุฃุฏูู
- **ุฃุฒุฑู**: ููููุธููู ูุงูุตูุญุงุช ุงูุนุงุฏูุฉ
- **ุฃุฎุถุฑ**: ููุญุงูุงุช ุงููุดุทุฉ
- **ุฃุญูุฑ**: ููุญุงูุงุช ุบูุฑ ุงููุดุทุฉ ุฃู ุงูุญุฐู

---

## ๐ ุงูุฃูุงู

### ุชุดููุฑ ูููุงุช ุงูุณุฑ:
- ุฌููุน ูููุงุช ุงูุณุฑ ูุดูุฑุฉ ุจุงุณุชุฎุฏุงู **BCrypt**
- ูุง ูููู ุงุณุชุฑุฌุงุน ูููุฉ ุงูุณุฑ ุงูุฃุตููุฉ
- ุงูุฃุฏูู ููุท ููููู ุฅุนุงุฏุฉ ุชุนููู ูููุงุช ุงูุณุฑ

### ุงูุชุญูู ูู ุงูุตูุงุญูุงุช:
- ูู ุงูุจุงููุฏ: `[Authorize(Roles = "Admin")]`
- ูู ุงููุฑููุช ุงูุฏ: `isAdmin` check
- ุฅุนุงุฏุฉ ุชูุฌูู ุชููุงุฆูุฉ ุฅุฐุง ูู ููู ุงููุณุชุฎุฏู ุฃุฏูู

---

## ๐ ุงูุฌุฏุงูู ุงููุณุชุฎุฏูุฉ

### ุฌุฏูู `sellers`
```sql
- SellerId (Primary Key)
- Name
- Email
- PasswordHash
- Role (Admin / Employee)
- IsActive (1 = ูุดุท, 0 = ุบูุฑ ูุดุท)
- CreatedAt
```

### ุฌุฏูู `brokers`
```sql
- BrokerId (Primary Key)
- Name
- ContactInfo
- CreatedAt
```

---

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### ุงุฎุชุจุงุฑ ุฅุถุงูุฉ ูุณุชุฎุฏู:
```powershell
# ุชุณุฌูู ุงูุฏุฎูู ูุฃุฏูู
$body = @{ email = "admin@safrni.com"; password = "Admin@123" } | ConvertTo-Json
$response = Invoke-RestMethod -Uri "http://localhost:5185/api/auth/login" `
    -Method Post -Body $body -ContentType "application/json"
$token = $response.token

# ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ
$headers = @{ Authorization = "Bearer $token" }
$body = @{
    name = "Test User"
    email = "test@safrni.com"
    password = "Test@123"
    role = "Employee"
} | ConvertTo-Json

Invoke-RestMethod -Uri "http://localhost:5185/api/auth/register" `
    -Method Post -Body $body -Headers $headers -ContentType "application/json"
```

### ุงุฎุชุจุงุฑ ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงูุณุฑ:
```powershell
$headers = @{ Authorization = "Bearer $token" }
$body = @{ newPassword = "NewPassword@123" } | ConvertTo-Json

Invoke-RestMethod -Uri "http://localhost:5185/api/auth/reset-password/5" `
    -Method Post -Body $body -Headers $headers -ContentType "application/json"
```

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ/ุงููุถุงูุฉ

### Backend:
- `safrni-api/Controllers/AuthController.cs` - ุฅุถุงูุฉ endpoint ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงูุณุฑ
- `safrni-api/DTOs/SellerDto.cs` - ุฅุถุงูุฉ `ResetPasswordDto`

### Frontend:
- `safrni-dashbord/app/dashboard/admin/sellers/page.tsx` - ุตูุญุฉ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
- `safrni-dashbord/app/dashboard/admin/brokers/page.tsx` - ุตูุญุฉ ุฅุฏุงุฑุฉ ุงููุณุทุงุก
- `safrni-dashbord/components/dashboard/sidebar.tsx` - ุฅุถุงูุฉ ูุณู ููุญุฉ ุงูุฃุฏูู
- `safrni-dashbord/services/api.ts` - ุฅุถุงูุฉ `resetPassword` API

---

## โ ุงูุฎูุงุตุฉ

ุชู ุฅูุดุงุก ูุธุงู ุฅุฏุงุฑุฉ ูุงูู ูููุณุชุฎุฏููู ูุงููุณุทุงุก ูุน:
- โ ุตูุญุงุช ุฅุฏุงุฑุฉ ุฌูููุฉ ููุชุฌุงูุจุฉ
- โ ุตูุงุญูุงุช ูุญุฏุฏุฉ ููุฃุฏูู
- โ ุฅุนุงุฏุฉ ุชุนููู ูููุงุช ุงูุณุฑ
- โ ุชูุนูู/ุชุนุทูู ุงููุณุชุฎุฏููู
- โ CRUD ูุงูู ูููุณุทุงุก
- โ ูุงุฌูุฉ ุขููุฉ ููุญููุฉ
- โ Sidebar ูุญุฏุซุฉ ูุน ูุณู ููุญุฉ ุงูุฃุฏูู

**ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐**



